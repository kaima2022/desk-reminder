name: Release

on:
  push:
    tags:
      - 'v*'

jobs:
  create-release:
    runs-on: ubuntu-latest
    outputs:
      upload_url: ${{ steps.create_release.outputs.upload_url }}
      release_id: ${{ steps.create_release.outputs.id }}
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Create Release
        id: create_release
        uses: softprops/action-gh-release@v2
        with:
          files: |
            # å ä½ç¬¦ï¼Œå®é™…æ–‡ä»¶ç”±æ„å»ºå·¥ä½œæµä¸Šä¼ 
          name: Health Reminder v${{ github.ref_name }}
          body: |
            ## å¥åº·æé†’åŠ©æ‰‹ v${{ github.ref_name }}

            ### ğŸ¯ ä¸»è¦æ›´æ–°
            - **æœ¬åœ°åŒ–å®Œå–„**ï¼šå®Œæˆä¸­æ–‡æœ¬åœ°åŒ–å†…å®¹ï¼Œæä¾›æ›´å‹å¥½çš„ç”¨æˆ·ä½“éªŒ
            - **è‡ªå¯åŠ¨é›†æˆ**ï¼šé›†æˆå¼€æœºè‡ªå¯åŠ¨æ’ä»¶ï¼Œå®ç°ä¸€é”®å¼€å¯éšå¿ƒå¯åŠ¨åŠŸèƒ½
            - **Bug ä¿®å¤**ï¼šä¿®å¤è‹¥å¹²bugï¼ŒåŒ…æ‹¬CMDçª—å£é—ªåŠ¨é—®é¢˜
            - **è·¨å¹³å°æ”¯æŒ**ï¼šæ–°å¢ macOS å’Œ Linux å¹³å°æ”¯æŒ

            ### ğŸ’» ä¸‹è½½å®‰è£…åŒ…

            #### Windows
            - `Health-Reminder-1.4.0-Windows.msi` - æ ‡å‡†å®‰è£…ç¨‹åº
            - `Health-Reminder-1.4.0-Windows-setup.exe` - NSIS å®‰è£…ç¨‹åº

            #### macOS
            - `Health-Reminder-1.4.0.dmg` - macOS ç£ç›˜æ˜ åƒæ–‡ä»¶

            #### Linux
            - `Health-Reminder-1.4.0.AppImage` - é€šç”¨å¯æ‰§è¡Œæ–‡ä»¶
            - `Health-Reminder-1.4.0.deb` - Debian/Ubuntu åŒ…

            ### ğŸ“‹ ç³»ç»Ÿè¦æ±‚
            - Windows 10/11
            - macOS 10.15+
            - Linux (Ubuntu 18.04+)
            - æ”¯æŒè‡ªåŠ¨æ›´æ–°å’Œå¼€æœºè‡ªå¯
            - æä½å†…å­˜å ç”¨ï¼ŒåŸºäº Rust + Tauri æŠ€æœ¯

            ### ğŸš€ å¿«é€Ÿå¼€å§‹
            1. ä¸‹è½½å¯¹åº”å¹³å°çš„å®‰è£…åŒ…
            2. è¿è¡Œå®‰è£…ç¨‹åº
            3. å¯åŠ¨åº”ç”¨ç¨‹åºï¼Œå¼€å§‹å¥åº·æé†’ä¹‹æ—…

            ---
            ğŸš€ æ„Ÿè°¢æ‚¨ä½¿ç”¨å¥åº·æé†’åŠ©æ‰‹ï¼æ„¿æ‚¨æ¯å¤©éƒ½æœ‰å¥½èº«ä½“ã€‚

            [GitHub ä»“åº“åœ°å€](https://github.com/${{ github.repository }})
            [ä½¿ç”¨æ–‡æ¡£](https://github.com/${{ github.repository }/blob/main/README.md)

          draft: false
          prerelease: false
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}